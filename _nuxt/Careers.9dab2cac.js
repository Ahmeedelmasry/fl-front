import{_ as G}from"./DeletePopup.f158edf7.js";import{d as V}from"./carrers.96cc603c.js";import{G as M,s as x,k as i,r as n,o as v,c as L,b as a,w as e,h as k,j as s,d as h,g as y,a as D,l as F}from"./entry.08c37509.js";import{V as S}from"./VDataTable.cbb22240.js";const U={class:"dashboard_banners_listing"},A=D("div",{class:"heading d-flex justify-space-between align-center"},[D("h2",{class:"my-3"},"Careers Requests")],-1),E={__name:"Listing",props:["dashboardCareers","loading"],emits:["regetData"],setup(d,{emit:_}){const u=V(),l=M(),{careerCV:p}=x(u),r=i(null),c=i(null),o=i(!1),B=i([{title:"Full Name",key:"fullName"},{title:"Email",key:"email"},{title:"Phone",key:"phone"},{title:"Job Title",key:"jobTitle"},{title:"View CV",key:"showCV"},{title:"Actions",key:"actions"}]),N=async()=>{o.value=!1,r.value.loading=!0,await l.doDeleteItem("career",r.value.id)&&_("regetData"),r.value.loading=!1},P=async b=>{c.value=b,c.value.showLoading=!0,await u.doGetCareerCV(c.value.id),c.value.showLoading=!1;const m=new Blob([p.value],{type:"application/pdf"}),f=URL.createObjectURL(m);window.open(f,"_blank")};return(b,m)=>{const f=n("v-col"),g=n("v-row"),C=n("v-icon"),w=n("v-btn"),R=n("v-tooltip"),T=G,$=n("v-container");return v(),L("div",U,[a($,{fluid:""},{default:e(()=>[a(g,null,{default:e(()=>[a(f,{cols:"12"},{default:e(()=>[A]),_:1})]),_:1}),d.dashboardCareers?(v(),k(g,{key:0,class:"px-4"},{default:e(()=>[a(f,{cols:"12",class:"section_container dashboard_table"},{default:e(()=>[a(s(S),{headers:s(B),items:d.dashboardCareers.content,loading:d.loading},{"item.showCV":e(({item:t})=>[a(w,{elevation:"0",color:"transparent",loading:t.selectable.showLoading,ripple:!1,onClick:j=>P(t.selectable)},{default:e(()=>[a(C,{color:"green",class:"ml-3"},{default:e(()=>[h("mdi-eye")]),_:1})]),_:2},1032,["loading","onClick"])]),"item.actions":e(({item:t})=>[a(w,{elevation:"0",color:"transparent",loading:t.selectable.loading,ripple:!1,onClick:j=>(r.value=t.selectable,o.value=!0)},{default:e(()=>[a(C,{color:"red",class:"ml-3"},{default:e(()=>[h("mdi-delete")]),_:1}),a(R,{activator:"parent",location:"bottom center"},{default:e(()=>[h("Delete")]),_:1})]),_:2},1032,["loading","onClick"])]),_:1},8,["headers","items","loading"]),s(o)?(v(),k(T,{key:0,openPopup:s(o),onClosePopup:m[0]||(m[0]=t=>o.value=!1),onConfirmDelete:N},null,8,["openPopup"])):y("",!0)]),_:1})]),_:1})):y("",!0)]),_:1})])}}},I=E,q={class:"dashboard_tests_page"},K={__name:"Careers",setup(d){const _=V(),{dashboardCareers:u}=x(_),l=i(!0),p=async()=>{l.value=!0,await _.doGetDashboardCareers(),l.value=!1};return F(()=>{p()}),(r,c)=>{const o=I;return v(),L("div",q,[a(o,{dashboardCareers:s(u),loading:s(l),onRegetData:p},null,8,["dashboardCareers","loading"])])}}};export{K as default};
