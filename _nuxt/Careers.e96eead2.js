import{_ as j}from"./DeletePopup.ea62822f.js";import{d as V}from"./carrers.746d3c38.js";import{G,s as x,k as i,r as c,o as v,c as L,b as a,w as e,h as w,j as s,d as k,g as y,a as D,l as M}from"./entry.8c88b42c.js";import{V as F}from"./VDataTable.7c3107fa.js";const S={class:"dashboard_banners_listing"},U=D("div",{class:"heading d-flex justify-space-between align-center"},[D("h2",{class:"my-3"},"Careers Requests")],-1),A={__name:"Listing",props:["dashboardCareers","loading"],emits:["regetData"],setup(d,{emit:_}){const u=V(),n=G(),{careerCV:p}=x(u),l=i(null),r=i(null),o=i(!1),B=i([{title:"Full Name",key:"fullName"},{title:"Email",key:"email"},{title:"Phone",key:"phone"},{title:"Job Title",key:"jobTitle"},{title:"View CV",key:"showCV"},{title:"Actions",key:"actions"}]),N=async()=>{o.value=!1,l.value.loading=!0,await n.doDeleteItem("career",l.value.id)&&_("regetData"),l.value.loading=!1},P=async b=>{r.value=b,r.value.showLoading=!0,await u.doGetCareerCV(r.value.id),r.value.showLoading=!1;const m=new Blob([p.value],{type:"application/pdf"}),f=URL.createObjectURL(m);window.open(f,"_blank")};return(b,m)=>{const f=c("v-col"),h=c("v-row"),g=c("v-icon"),C=c("v-btn"),R=j,T=c("v-container");return v(),L("div",S,[a(T,{fluid:""},{default:e(()=>[a(h,null,{default:e(()=>[a(f,{cols:"12"},{default:e(()=>[U]),_:1})]),_:1}),d.dashboardCareers?(v(),w(h,{key:0,class:"px-4"},{default:e(()=>[a(f,{cols:"12",class:"section_container dashboard_table"},{default:e(()=>[a(s(F),{headers:s(B),items:d.dashboardCareers.content,loading:d.loading},{"item.showCV":e(({item:t})=>[a(C,{elevation:"0",color:"transparent",loading:t.selectable.showLoading,ripple:!1,onClick:$=>P(t.selectable)},{default:e(()=>[a(g,{color:"green",class:"ml-3"},{default:e(()=>[k("mdi-eye")]),_:1})]),_:2},1032,["loading","onClick"])]),"item.actions":e(({item:t})=>[a(C,{elevation:"0",color:"transparent",loading:t.selectable.loading,ripple:!1,onClick:$=>(l.value=t.selectable,o.value=!0)},{default:e(()=>[a(g,{color:"red",class:"ml-3"},{default:e(()=>[k("mdi-delete")]),_:1})]),_:2},1032,["loading","onClick"])]),_:1},8,["headers","items","loading"]),s(o)?(v(),w(R,{key:0,openPopup:s(o),onClosePopup:m[0]||(m[0]=t=>o.value=!1),onConfirmDelete:N},null,8,["openPopup"])):y("",!0)]),_:1})]),_:1})):y("",!0)]),_:1})])}}},E=A,I={class:"dashboard_tests_page"},H={__name:"Careers",setup(d){const _=V(),{dashboardCareers:u}=x(_),n=i(!0),p=async()=>{n.value=!0,await _.doGetDashboardCareers(),n.value=!1};return M(()=>{p()}),(l,r)=>{const o=E;return v(),L("div",I,[a(o,{dashboardCareers:s(u),loading:s(n),onRegetData:p},null,8,["dashboardCareers","loading"])])}}};export{H as default};
