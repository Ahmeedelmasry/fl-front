import{k as p,z as I,l as T,r as d,o as b,c as k,b as e,w as o,d as g,t as H,q as K,j as t,a as x,n as L,G as B,h as P,I as w,g as U,s as j}from"./entry.08c37509.js";import{d as G}from"./categories.e862bb22.js";import{r as V,m as O,u as M}from"./index.4590c98c.js";import{_ as q}from"./DeletePopup.f158edf7.js";import{V as z}from"./VDataTable.cbb22240.js";const F={class:"update_banner"},J={class:"actions text-center"},Q={__name:"UpdateCategory",props:["openPopup","toUpdate"],emits:["closePopup","regetData"],setup(f,{emit:m}){const i=f,u=G(),n=p({nameEN:"",nameAR:""}),r=p(!1),c=p(!1),_=p({nameEN:{required:V,minLength:O(3)},nameAR:{required:V,minLength:O(3)}});I(()=>r.value,C=>{C||setTimeout(()=>{m("closePopup")},200)});let v=M(_,n);const S=async()=>{i.toUpdate&&(_.value.image={},v=M(_,n)),await v.value.$validate()&&(c.value=!0,i.toUpdate?await u.doUpdateDashboardCategories({id:i.toUpdate.selectable.id,nameEN:n.value.nameEN,nameAR:n.value.nameAR})&&(m("regetData"),r.value=!1):await u.doAddDashboardCategories({nameEN:n.value.nameEN,nameAR:n.value.nameAR})&&(m("regetData"),r.value=!1),c.value=!1)};return T(()=>{r.value=i.openPopup,i.toUpdate&&(n.value.nameEN=i.toUpdate.selectable.nameEN,n.value.nameAR=i.toUpdate.selectable.nameAR)}),(C,a)=>{const E=d("v-card-title"),y=d("v-text-field"),A=d("v-col"),N=d("v-row"),$=d("v-container"),D=d("v-btn"),h=d("v-form"),R=d("v-card"),l=d("v-dialog");return b(),k("div",F,[e(l,{modelValue:t(r),"onUpdate:modelValue":a[3]||(a[3]=s=>L(r)?r.value=s:null),width:"700",persistent:""},{default:o(()=>[e(R,null,{default:o(()=>[e(E,{class:"mb-5 text-center bg-grey-lighten-3"},{default:o(()=>[g(H(f.toUpdate?"Update Category":"Add Category"),1)]),_:1}),e(h,{class:"pa-5",onSubmit:K(S,["prevent"])},{default:o(()=>[e($,null,{default:o(()=>[e(N,null,{default:o(()=>[e(A,{cols:"12",sm:"6"},{default:o(()=>[e(y,{label:"English Category Name",disabled:t(c),variant:"outlined",modelValue:t(n).nameEN,"onUpdate:modelValue":a[0]||(a[0]=s=>t(n).nameEN=s),"error-messages":t(v).$errors.find(s=>s.$property=="nameEN")?t(v).$errors.find(s=>s.$property=="nameEN").$message:""},null,8,["disabled","modelValue","error-messages"])]),_:1}),e(A,{cols:"12",sm:"6"},{default:o(()=>[e(y,{label:"Arabic Category Name",disabled:t(c),variant:"outlined",modelValue:t(n).nameAR,"onUpdate:modelValue":a[1]||(a[1]=s=>t(n).nameAR=s),"error-messages":t(v).$errors.find(s=>s.$property=="nameAR")?t(v).$errors.find(s=>s.$property=="nameAR").$message:""},null,8,["disabled","modelValue","error-messages"])]),_:1})]),_:1})]),_:1}),x("div",J,[e(D,{color:"red",class:"mr-3",onClick:a[2]||(a[2]=s=>r.value=!1),disabled:t(c)},{default:o(()=>[g("Cancel")]),_:1},8,["disabled"]),e(D,{color:"green",type:"submit",loading:t(c)},{default:o(()=>[g("Save")]),_:1},8,["loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])])}}},W=Q,X={class:"dashboard_banners_listing"},Y={class:"heading d-flex justify-space-between align-center"},Z=x("h2",{class:"my-3"},"Tests Categories",-1),ee={class:"d-flex align-start justify-center flex-column"},te={__name:"Listing",props:["dashboardCategories","loading"],emits:["regetData"],setup(f,{emit:m}){const i=B(),u=p(!1),n=p(!1),r=p(!1),c=p(null),_=p(null),v=p([{title:"English Name",key:"nameEN"},{title:"Arabic Name",key:"nameAR"},{title:"Actions",key:"actions"}]),S=async()=>{r.value=!1,_.value.loading=!0,await i.doDeleteItem("category",_.value.id)&&m("regetData"),_.value.loading=!1};return(C,a)=>{const E=d("v-btn"),y=d("v-col"),A=d("v-row"),N=d("v-icon"),$=d("v-tooltip"),D=d("v-container"),h=W,R=q;return b(),k("div",X,[e(D,{fluid:""},{default:o(()=>[e(A,null,{default:o(()=>[e(y,{cols:"12"},{default:o(()=>[x("div",Y,[Z,e(E,{onClick:a[0]||(a[0]=l=>u.value=!0),width:"150px",height:"45px",color:"blue"},{default:o(()=>[g("Add Category")]),_:1})])]),_:1})]),_:1}),f.dashboardCategories?(b(),P(A,{key:0,class:"px-4"},{default:o(()=>[e(y,{cols:"12",class:"section_container dashboard_table"},{default:o(()=>[e(t(z),{headers:t(v),items:f.dashboardCategories.content,loading:f.loading,search:""},{"item.actions":o(({item:l})=>[x("div",ee,[e(E,{elevation:"0",disabled:l.selectable.nameEN=="HOME Page PACKAGES SECTION",onClick:s=>(c.value=l,l.selectable.nameEN!="HOME Page PACKAGES SECTION"?n.value=!0:!1)},{default:o(()=>[e(N,{color:"blue",style:w(`opacity: ${l.selectable.nameEN=="HOME Page PACKAGES SECTION"?".6":"1"}`)},{default:o(()=>[g("mdi-square-edit-outline")]),_:2},1032,["style"]),e($,{activator:"parent",location:"bottom center"},{default:o(()=>[g("Update")]),_:1})]),_:2},1032,["disabled","onClick"]),e(E,{elevation:"0",disabled:l.selectable.nameEN=="HOME Page PACKAGES SECTION",color:"transparent",loading:l.selectable.loading,ripple:!1,onClick:s=>(_.value=l,l.selectable.nameEN!="HOME Page PACKAGES SECTION"?r.value=!0:!1)},{default:o(()=>[e(N,{color:"red",size:"23",style:w(`opacity: ${l.selectable.nameEN=="HOME Page PACKAGES SECTION"?".6":"1"}`)},{default:o(()=>[g("mdi-delete")]),_:2},1032,["style"]),e($,{activator:"parent",location:"bottom center"},{default:o(()=>[g("Delete")]),_:1})]),_:2},1032,["disabled","loading","onClick"])])]),_:1},8,["headers","items","loading"])]),_:1})]),_:1})):U("",!0)]),_:1}),t(n)?(b(),P(h,{key:0,openPopup:t(n),onClosePopup:a[1]||(a[1]=l=>(n.value=!1,c.value=null)),toUpdate:t(c),onRegetData:a[2]||(a[2]=l=>m("regetData"))},null,8,["openPopup","toUpdate"])):U("",!0),t(u)?(b(),P(h,{key:1,openPopup:t(u),onClosePopup:a[3]||(a[3]=l=>u.value=!1),onRegetData:a[4]||(a[4]=l=>m("regetData"))},null,8,["openPopup"])):U("",!0),t(r)?(b(),P(R,{key:2,openPopup:t(r),onClosePopup:a[5]||(a[5]=l=>r.value=!1),onConfirmDelete:S},null,8,["openPopup"])):U("",!0)])}}},ae=te,oe={class:"dashboard_tests_page"},ie={__name:"Categories",setup(f){const m=G(),{dashboardCategories:i}=j(m),u=p(!0),n=async()=>{u.value=!0,await m.doGetDashboardCategories(),u.value=!1};return T(()=>{n()}),(r,c)=>{const _=ae;return b(),k("div",oe,[e(_,{dashboardCategories:t(i),loading:t(u),onRegetData:n},null,8,["dashboardCategories","loading"])])}}};export{ie as default};
