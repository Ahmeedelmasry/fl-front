import{k as p,z as I,l as T,r as d,o as f,c as R,b as t,w as n,d as b,t as H,q as K,j as e,a as k,n as L,G as B,h as D,I as x,g as P,s as q}from"./entry.8c88b42c.js";import{d as G}from"./categories.e9d8b0b4.js";import{r as V,m as O,u as M}from"./index.a1c7dcf5.js";import{_ as z}from"./DeletePopup.ea62822f.js";import{V as j}from"./VDataTable.7c3107fa.js";const F={class:"update_banner"},J={class:"actions text-center"},Q={__name:"UpdateCategory",props:["openPopup","toUpdate"],emits:["closePopup","regetData"],setup(v,{emit:m}){const i=v,u=G(),o=p({nameEN:"",nameAR:""}),l=p(!1),c=p(!1),_=p({nameEN:{required:V,minLength:O(3)},nameAR:{required:V,minLength:O(3)}});I(()=>l.value,C=>{C||setTimeout(()=>{m("closePopup")},200)});let g=M(_,o);const h=async()=>{i.toUpdate&&(_.value.image={},g=M(_,o)),await g.value.$validate()&&(c.value=!0,i.toUpdate?await u.doUpdateDashboardCategories({id:i.toUpdate.selectable.id,nameEN:o.value.nameEN,nameAR:o.value.nameAR})&&(m("regetData"),l.value=!1):await u.doAddDashboardCategories({nameEN:o.value.nameEN,nameAR:o.value.nameAR})&&(m("regetData"),l.value=!1),c.value=!1)};return T(()=>{l.value=i.openPopup,i.toUpdate&&(o.value.nameEN=i.toUpdate.selectable.nameEN,o.value.nameAR=i.toUpdate.selectable.nameAR)}),(C,a)=>{const N=d("v-card-title"),E=d("v-text-field"),y=d("v-col"),$=d("v-row"),S=d("v-container"),A=d("v-btn"),U=d("v-form"),s=d("v-card"),w=d("v-dialog");return f(),R("div",F,[t(w,{modelValue:e(l),"onUpdate:modelValue":a[3]||(a[3]=r=>L(l)?l.value=r:null),width:"700",persistent:""},{default:n(()=>[t(s,null,{default:n(()=>[t(N,{class:"mb-5 text-center bg-grey-lighten-3"},{default:n(()=>[b(H(v.toUpdate?"Update Category":"Add Category"),1)]),_:1}),t(U,{class:"pa-5",onSubmit:K(h,["prevent"])},{default:n(()=>[t(S,null,{default:n(()=>[t($,null,{default:n(()=>[t(y,{cols:"12",sm:"6"},{default:n(()=>[t(E,{label:"English Category Name",disabled:e(c),variant:"outlined",modelValue:e(o).nameEN,"onUpdate:modelValue":a[0]||(a[0]=r=>e(o).nameEN=r),"error-messages":e(g).$errors.find(r=>r.$property=="nameEN")?e(g).$errors.find(r=>r.$property=="nameEN").$message:""},null,8,["disabled","modelValue","error-messages"])]),_:1}),t(y,{cols:"12",sm:"6"},{default:n(()=>[t(E,{label:"Arabic Category Name",disabled:e(c),variant:"outlined",modelValue:e(o).nameAR,"onUpdate:modelValue":a[1]||(a[1]=r=>e(o).nameAR=r),"error-messages":e(g).$errors.find(r=>r.$property=="nameAR")?e(g).$errors.find(r=>r.$property=="nameAR").$message:""},null,8,["disabled","modelValue","error-messages"])]),_:1})]),_:1})]),_:1}),k("div",J,[t(A,{color:"red",class:"mr-3",onClick:a[2]||(a[2]=r=>l.value=!1),disabled:e(c)},{default:n(()=>[b("Cancel")]),_:1},8,["disabled"]),t(A,{color:"green",type:"submit",loading:e(c)},{default:n(()=>[b("Save")]),_:1},8,["loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])])}}},W=Q,X={class:"dashboard_banners_listing"},Y={class:"heading d-flex justify-space-between align-center"},Z=k("h2",{class:"my-3"},"Tests Categories",-1),ee={__name:"Listing",props:["dashboardCategories","loading"],emits:["regetData"],setup(v,{emit:m}){const i=B(),u=p(!1),o=p(!1),l=p(!1),c=p(null),_=p(null),g=p([{title:"English Name",key:"nameEN"},{title:"Arabic Name",key:"nameAR"},{title:"Actions",key:"actions"}]),h=async()=>{l.value=!1,_.value.loading=!0,await i.doDeleteItem("category",_.value.id)&&m("regetData"),_.value.loading=!1};return(C,a)=>{const N=d("v-btn"),E=d("v-col"),y=d("v-row"),$=d("v-icon"),S=d("v-container"),A=W,U=z;return f(),R("div",X,[t(S,{fluid:""},{default:n(()=>[t(y,null,{default:n(()=>[t(E,{cols:"12"},{default:n(()=>[k("div",Y,[Z,t(N,{onClick:a[0]||(a[0]=s=>u.value=!0),width:"150px",height:"45px",color:"blue"},{default:n(()=>[b("Add Category")]),_:1})])]),_:1})]),_:1}),v.dashboardCategories?(f(),D(y,{key:0,class:"px-4"},{default:n(()=>[t(E,{cols:"12",class:"section_container dashboard_table"},{default:n(()=>[t(e(j),{headers:e(g),items:v.dashboardCategories.content,loading:v.loading,search:""},{"item.actions":n(({item:s})=>[t($,{color:"blue",style:x(`cursor: ${s.selectable.nameEN=="HOME Page PACKAGES SECTION"?"not-allowed":"pointer"};opacity: ${s.selectable.nameEN=="HOME Page PACKAGES SECTION"?".6":"1"}`),onClick:w=>(c.value=s,s.selectable.nameEN!="HOME Page PACKAGES SECTION"?o.value=!0:!1)},{default:n(()=>[b("mdi-square-edit-outline")]),_:2},1032,["style","onClick"]),t(N,{elevation:"0",style:x(`cursor: ${s.selectable.nameEN=="HOME Page PACKAGES SECTION"?"not-allowed":"pointer"};opacity: ${s.selectable.nameEN=="HOME Page PACKAGES SECTION"?".6":"1"}`),color:"transparent",loading:s.selectable.loading,ripple:!1,onClick:w=>(_.value=s,s.selectable.nameEN!="HOME Page PACKAGES SECTION"?l.value=!0:!1)},{default:n(()=>[t($,{color:"red",class:"ml-2",size:"23"},{default:n(()=>[b("mdi-delete")]),_:1})]),_:2},1032,["style","loading","onClick"])]),_:1},8,["headers","items","loading"])]),_:1})]),_:1})):P("",!0)]),_:1}),e(o)?(f(),D(A,{key:0,openPopup:e(o),onClosePopup:a[1]||(a[1]=s=>(o.value=!1,c.value=null)),toUpdate:e(c),onRegetData:a[2]||(a[2]=s=>m("regetData"))},null,8,["openPopup","toUpdate"])):P("",!0),e(u)?(f(),D(A,{key:1,openPopup:e(u),onClosePopup:a[3]||(a[3]=s=>u.value=!1),onRegetData:a[4]||(a[4]=s=>m("regetData"))},null,8,["openPopup"])):P("",!0),e(l)?(f(),D(U,{key:2,openPopup:e(l),onClosePopup:a[5]||(a[5]=s=>l.value=!1),onConfirmDelete:h},null,8,["openPopup"])):P("",!0)])}}},ae=ee,te={class:"dashboard_tests_page"},de={__name:"Categories",setup(v){const m=G(),{dashboardCategories:i}=q(m),u=p(!0),o=async()=>{u.value=!0,await m.doGetDashboardCategories(),u.value=!1};return T(()=>{o()}),(l,c)=>{const _=ae;return f(),R("div",te,[t(_,{dashboardCategories:e(i),loading:e(u),onRegetData:o},null,8,["dashboardCategories","loading"])])}}};export{de as default};
