import{_ as P}from"./DeletePopup.f158edf7.js";import{d as S}from"./contact.263d83be.js";import{G as T,k as i,r as s,o as _,c as x,b as e,w as t,h as D,j as l,a as c,t as f,d as u,g as k,s as B,l as A}from"./entry.08c37509.js";import{V as G}from"./VDataTable.cbb22240.js";import{d as M}from"./consultation.a10dc6eb.js";const R={class:"dashboard_banners_listing"},j=c("div",{class:"heading d-flex justify-space-between align-center"},[c("h2",{class:"my-3"},"Consultation Requests")],-1),I={__name:"Listing",props:["dashboardConsultation","loading"],emits:["regetData"],setup(r,{emit:d}){const m=T();S(),i(!1);const o=i(!1),n=i(null),v=i([{title:"Name",key:"name"},{title:"Phone",key:"phone"},{title:"Age",key:"age"},{title:"City",key:"city"},{title:"Date",key:"date"},{title:"Time",key:"time"},{title:"Symptoms",key:"symptoms"},{title:"Actions",key:"actions"}]),b=async()=>{o.value=!1,n.value.loading=!0,await m.doDeleteItem("consultation",n.value.id)&&d("regetData"),n.value.loading=!1};return(p,g)=>{const h=s("v-col"),y=s("v-row"),C=s("v-tooltip"),w=s("v-icon"),V=s("v-btn"),$=P,N=s("v-container");return _(),x("div",R,[e(N,{fluid:""},{default:t(()=>[e(y,null,{default:t(()=>[e(h,{cols:"12"},{default:t(()=>[j]),_:1})]),_:1}),r.dashboardConsultation?(_(),D(y,{key:0,class:"px-4"},{default:t(()=>[e(h,{cols:"12",class:"section_container dashboard_table"},{default:t(()=>[e(l(G),{headers:l(v),items:r.dashboardConsultation.content,loading:r.loading},{"item.date":t(({item:a})=>[c("div",null,f(a.raw.date.split("T")[0]),1)]),"item.symptoms":t(({item:a})=>[c("div",null,[c("span",null,[u(f(`${a.selectable.symptoms.substring(0,20)} ${a.selectable.symptoms.length>20?"...":""}`)+" ",1),e(C,{activator:"parent",location:"left"},{default:t(()=>[u(f(a.selectable.symptoms),1)]),_:2},1024)])])]),"item.actions":t(({item:a})=>[e(V,{elevation:"0",color:"transparent",loading:a.selectable.loading,ripple:!1},{default:t(()=>[e(w,{color:"red",style:{cursor:"pointer"},class:"ml-2",size:"23",onClick:z=>(n.value=a.selectable,o.value=!0)},{default:t(()=>[u("mdi-delete")]),_:2},1032,["onClick"]),e(C,{activator:"parent",location:"bottom center"},{default:t(()=>[u("Delete")]),_:1})]),_:2},1032,["loading"])]),_:1},8,["headers","items","loading"]),l(o)?(_(),D($,{key:0,openPopup:l(o),onClosePopup:g[0]||(g[0]=a=>o.value=!1),onConfirmDelete:b},null,8,["openPopup"])):k("",!0)]),_:1})]),_:1})):k("",!0)]),_:1})])}}},L=I,q={class:"dashboard_tests_page"},O={__name:"Consultation",setup(r){const d=M(),{dashboardConsultation:m}=B(d),o=i(!0),n=async()=>{o.value=!0,await d.doGetDashboardConsultation(),o.value=!1};return A(()=>{n()}),(v,b)=>{const p=L;return _(),x("div",q,[e(p,{dashboardConsultation:l(m),loading:l(o),onRegetData:n},null,8,["dashboardConsultation","loading"])])}}};export{O as default};
