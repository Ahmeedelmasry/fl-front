import{B as F,C as N,k as g,l as k,o as i,c as y,a as n,q as V,m as B,y as E,j as l,n as w,F as R,i as C,x as L,t as W,f as $,r as S,h as x,g as b,b as v,w as _,s as A}from"./entry.08c37509.js";import{_ as I}from"./tests.df066e58.js";import{t as P}from"./tests.2a9922c0.js";import"./VSkeletonLoader.3b088029.js";const U={class:"search_test"},j={class:"parent mx-md-16 mx-3"},D=["onSubmit"],O={class:"field_container d-flex d-flex flex-column flex-sm-row align-center",style:{gap:"20px"}},z=n("input",{type:"submit",name:"submit",id:"submit",value:"SEARCH"},null,-1),G={class:"alpha mt-5"},H=["data-val"],J={__name:"Search",emits:["filterStartsWith","filterWord"],setup(r,{emit:c}){const o=F(),t=N(),e=g(""),f=g(""),p=g(["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]),s=u=>{f.value=u.currentTarget.dataset.val;const a=u.currentTarget.dataset.val;a&&(e.value="",c("filterStartsWith",a),o.push({name:t.name,query:{char:a}}))},m=()=>{document.querySelectorAll(".alpha button").forEach(u=>u.classList.remove("active")),c("filterWord",e.value),o.push({name:t.name,query:{search:e.value}})};return k(()=>{t.query.search&&(e.value=t.query.search),t.query.char&&(f.value=t.query.char)}),(u,a)=>(i(),y("div",U,[n("div",j,[n("form",{onSubmit:V(m,["prevent"]),class:"w-100"},[n("div",O,[B(n("input",{type:"search",name:"searchTest",id:"searchTest",placeholder:"Search for a test","onUpdate:modelValue":a[0]||(a[0]=h=>w(e)?e.value=h:null)},null,512),[[E,l(e)]]),z])],40,D),n("div",G,[(i(!0),y(R,null,C(l(p),h=>(i(),y("button",{key:h,class:L(["mr-1",`${l(f)==h?"active":""}`]),"data-val":h,style:{"font-size":"14px","font-weight":"bold","border-radius":"5px"},onClick:s},W(h),11,H))),128))])])]))}},K=J;const Q={class:"tests_cards pb-16"},X=n("div",{class:"heading"},[n("h3",null,"COMMON TEST MENU")],-1),Y=n("div",{class:"desc"},[n("p",null," Find your test easily by a smart search and perform by just a click! ")],-1),Z={class:"img_dad"},tt=["src"],et={class:"test_name"},st={class:"price text-start"},at=n("div",{class:"no_data"},"No data to show",-1),nt={__name:"Tests",props:["tests","loading","isSearched"],emits:["filterStartsWith","filterWord"],setup(r,{emit:c}){const o=r,t=g(1),e=$(()=>{if(o.tests&&o.tests.content&&o.tests.content.length){const p=(t.value-1)*8,s=p+8;return o.tests.content.slice(p,s)}return[]}),f=$(()=>o.tests&&o.tests.content&&o.tests.content.length?Math.ceil(o.tests.content.length/8):0);return(p,s)=>{const m=K,u=S("v-card"),a=S("v-col"),h=S("v-pagination"),T=S("v-row"),M=I,q=S("v-container");return i(),y("div",Q,[X,Y,l(e).length&&!r.loading&&!r.isSearched||!r.loading&&r.isSearched?(i(),x(m,{key:0,onFilterStartsWith:s[0]||(s[0]=d=>c("filterStartsWith",d)),onFilterWord:s[1]||(s[1]=d=>c("filterWord",d))})):b("",!0),v(q,{class:"pb-16 pt-10"},{default:_(()=>[l(e).length&&!r.loading?(i(),x(T,{key:0},{default:_(()=>[(i(!0),y(R,null,C(l(e),d=>(i(),x(a,{cols:"12",sm:"6",md:"4",lg:"3",class:"mb-4",key:d.id},{default:_(()=>[v(u,{class:"w-100 position-relative team-card"},{default:_(()=>[n("div",Z,[n("img",{src:`data:image/jpg;base64,${d.photo}`,alt:""},null,8,tt)]),n("div",et,W(d.nameEN),1),n("div",st,W(d.price)+" SAR",1)]),_:2},1024)]),_:2},1024))),128)),v(a,{cols:"12"},{default:_(()=>[v(h,{modelValue:l(t),"onUpdate:modelValue":s[2]||(s[2]=d=>w(t)?t.value=d:null),length:l(f),"total-visible":8,disabled:r.loading,"prev-icon":"mdi-chevron-left","next-icon":"mdi-chevron-right","previous-aria-label":"test"},null,8,["modelValue","length","disabled"])]),_:1})]),_:1})):b("",!0),r.loading?(i(),x(T,{key:1},{default:_(()=>[v(a,{cols:"12"},{default:_(()=>[v(M)]),_:1})]),_:1})):b("",!0),!l(e).length&&!r.loading?(i(),x(T,{key:2},{default:_(()=>[v(a,{cols:"12"},{default:_(()=>[at]),_:1})]),_:1})):b("",!0)]),_:1})])}}},ot=nt,lt={class:"tests_page"},ut={__name:"TestsPage",setup(r){const c=P(),{filteredTests:o}=A(c),t=g(!1),e=g(!1),f=s=>{e.value=!0,t.value=!0,setTimeout(()=>{t.value=!1,c.filterResults(s)},300)},p=s=>{e.value=!0,t.value=!0,setTimeout(()=>{t.value=!1,c.filterResults(null,s)},300)};return k(async()=>{t.value=!0,await c.doGetTests(),t.value=!1}),(s,m)=>{const u=ot;return i(),y("div",lt,[v(u,{tests:l(o),loading:l(t),onFilterStartsWith:m[0]||(m[0]=a=>f(a)),onFilterWord:m[1]||(m[1]=a=>p(a)),isSearched:l(e)},null,8,["tests","loading","isSearched"])])}}};export{ut as default};
