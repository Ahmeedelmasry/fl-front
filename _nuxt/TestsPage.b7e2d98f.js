import{B as C,C as F,k as g,l as k,o as i,c as y,a as n,q as A,m as M,y as N,j as l,n as $,F as q,i as R,x as L,t as W,f as w,r as x,h as S,g as b,b as v,w as _,s as P}from"./entry.8c88b42c.js";import{_ as z}from"./tests.417d64a4.js";import{t as I}from"./tests.a58403ae.js";import"./VSkeletonLoader.4817fd85.js";const j={class:"search_test"},D={class:"parent mx-md-16 mx-3"},E=["onSubmit"],U={class:"field_container d-flex flex-column flex-sm-row align-center",style:{gap:"20px"},dir:"rtl"},G=n("input",{type:"submit",name:"submit",id:"submit",value:"بحث"},null,-1),K={class:"alpha mt-5",dir:"rtl"},H=["data-val"],J={__name:"Search",emits:["filterStartsWith","filterWord"],setup(r,{emit:c}){const o=C(),t=F(),e=g(""),f=g(""),p=g(["أ","ب","ت","ث","ج","ح","خ","د","ذ","ر","ز","س","ش","ص","ض","ط","ظ","ع","غ","ف","ق","ك","ل","م","ن","هـ","و","ي"]),s=u=>{f.value=u.currentTarget.dataset.val;const a=u.currentTarget.dataset.val;a&&(e.value="",c("filterStartsWith",a),o.push({name:t.name,query:{char:a}}))},m=()=>{document.querySelectorAll(".alpha button").forEach(u=>u.classList.remove("active")),c("filterWord",e.value),o.push({name:t.name,query:{search:e.value}})};return k(()=>{t.query.search&&(e.value=t.query.search),t.query.char&&(f.value=t.query.char)}),(u,a)=>(i(),y("div",j,[n("div",D,[n("form",{onSubmit:A(m,["prevent"]),class:"w-100"},[n("div",U,[M(n("input",{type:"search",name:"searchTest",id:"searchTest",placeholder:"ابحث عن فحص","onUpdate:modelValue":a[0]||(a[0]=h=>$(e)?e.value=h:null)},null,512),[[N,l(e)]]),G])],40,E),n("div",K,[(i(!0),y(q,null,R(l(p),h=>(i(),y("button",{key:h,class:L(["mr-1",`${l(f)==h?"active":""}`]),"data-val":h,style:{"font-size":"14px","font-weight":"bold","border-radius":"5px"},onClick:s},W(h),11,H))),128))])])]))}},O=J;const Q={class:"tests_cards pb-16"},X=n("div",{class:"heading"},[n("h3",{dir:"rtl",style:{"padding-right":"60px","font-weight":"300","font-family":"BoldNotoKufiArabic, sans-serif !important"}}," الفحوصات ")],-1),Y=n("div",{class:"desc"},[n("p",{style:{"font-weight":"300","font-family":"Slick, sans-serif !important","font-size":"19px",color:"black"},dir:"rtl"}," اعثر على الفحص الخاص بك بسهولة عن طريق البحث الذكي وقم بإجراء بنقرة واحدة! ")],-1),Z={class:"img_dad"},tt=["src"],et={class:"test_name"},st={class:"price text-start"},at=n("div",{class:"no_data"},"No data to show",-1),nt={__name:"Tests",props:["tests","loading","isSearched"],emits:["filterStartsWith","filterWord"],setup(r,{emit:c}){const o=r,t=g(1),e=w(()=>{if(o.tests&&o.tests.content&&o.tests.content.length){const p=(t.value-1)*8,s=p+8;return o.tests.content.slice(p,s)}return[]}),f=w(()=>o.tests&&o.tests.content&&o.tests.content.length?Math.ceil(o.tests.content.length/8):0);return(p,s)=>{const m=O,u=x("v-card"),a=x("v-col"),h=x("v-pagination"),T=x("v-row"),B=z,V=x("v-container");return i(),y("div",Q,[X,Y,l(e).length&&!r.loading&&!r.isSearched||!r.loading&&r.isSearched?(i(),S(m,{key:0,onFilterStartsWith:s[0]||(s[0]=d=>c("filterStartsWith",d)),onFilterWord:s[1]||(s[1]=d=>c("filterWord",d))})):b("",!0),v(V,{class:"pb-16 pt-10"},{default:_(()=>[l(e).length&&!r.loading?(i(),S(T,{key:0},{default:_(()=>[(i(!0),y(q,null,R(l(e),d=>(i(),S(a,{cols:"12",sm:"6",md:"4",lg:"3",class:"mb-4",key:d.id},{default:_(()=>[v(u,{class:"w-100 position-relative team-card"},{default:_(()=>[n("div",Z,[n("img",{src:`data:image/jpg;base64,${d.photo}`,alt:""},null,8,tt)]),n("div",et,W(d.nameAR),1),n("div",st,W(d.price)+" ر.س",1)]),_:2},1024)]),_:2},1024))),128)),v(a,{cols:"12"},{default:_(()=>[v(h,{modelValue:l(t),"onUpdate:modelValue":s[2]||(s[2]=d=>$(t)?t.value=d:null),length:l(f),dir:"ltr","total-visible":8,disabled:r.loading,"prev-icon":"mdi-chevron-left","next-icon":"mdi-chevron-right","previous-aria-label":"test"},null,8,["modelValue","length","disabled"])]),_:1})]),_:1})):b("",!0),r.loading?(i(),S(T,{key:1},{default:_(()=>[v(a,{cols:"12"},{default:_(()=>[v(B)]),_:1})]),_:1})):b("",!0),!l(e).length&&!r.loading?(i(),S(T,{key:2},{default:_(()=>[v(a,{cols:"12"},{default:_(()=>[at]),_:1})]),_:1})):b("",!0)]),_:1})])}}},ot=nt;const lt={class:"tests_page_ar"},ut={__name:"TestsPage",setup(r){const c=I(),{filteredTests:o}=P(c),t=g(!1),e=g(!1),f=s=>{e.value=!0,t.value=!0,setTimeout(()=>{t.value=!1,c.filterResults(s)},300)},p=s=>{e.value=!0,t.value=!0,setTimeout(()=>{t.value=!1,c.filterResults(null,s)},300)};return k(async()=>{t.value=!0,await c.doGetTests(),t.value=!1}),(s,m)=>{const u=ot;return i(),y("div",lt,[v(u,{tests:l(o),loading:l(t),onFilterStartsWith:m[0]||(m[0]=a=>f(a)),onFilterWord:m[1]||(m[1]=a=>p(a)),isSearched:l(e)},null,8,["tests","loading","isSearched"])])}}};export{ut as default};
